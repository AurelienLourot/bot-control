# OpenStack Charm CI - Charm Pusher Job Generator for Jenkins-Job-Builder
- job:
    name: test_distro_regression_matrix
    project-type: matrix
    description: |
        <p>Exercise distro regression tests, driven by a matrix trigger.</p>
        <p><i>Dynamically Generated Job - Do not edit through the Jenkins Web UI.  You will lose your changes.</i></p>
    node: task
    triggers:
        - timed: "01 00 * * 3"  # Once weekly after midnight on Wednesday
    axes:
      - axis:
         type: user-defined
         name: TOX_ARGUMENT
         values:
           - keystone_v2_smoke:trusty-mitaka
           - keystone_v2_smoke:xenial-mitaka
           - keystone_v2_smoke:xenial-newton
           - keystone_v2_smoke:xenial-ocata
           - keystone_v2_smoke:xenial-pike
           - keystone_v3_smoke:xenial-queens
           - keystone_v3_smoke:bionic-queens
           - keystone_v3_smoke_rocky:bionic-rocky
           - keystone_v3_smoke:bionic-stein
           - keystone_v3_smoke:bionic-train
           - keystone_v3_smoke:bionic-ussuri
           - keystone_v3_smoke_focal:focal-ussuri
           - keystone_v3_smoke_focal:focal-victoria
           - keystone_v3_smoke_focal:groovy-victoria
    builders:
      - trigger-builds:
        - project:
            - "test_charm_func_target"
          current-parameters: true
          block: true
          predefined-parameters: |
            BASE_NAME=distro-regression
            GIT_BRANCH=$GIT_BRANCH
